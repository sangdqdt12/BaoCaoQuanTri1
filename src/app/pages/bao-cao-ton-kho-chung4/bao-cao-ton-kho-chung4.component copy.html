
<div class="long-title">
    <p>BÁO CÁO TỒN KHO CHUNG - Ngày {{this.ngayVal|date: 'dd-MM-yyyy'}}</p>
</div>
<div class="w3-cell-row">


    <div class="w3-container w3-red w3-cell">
      <p>Hello W3.CSS Layout.</p>
    </div>
  
    <div class="w3-container w3-green w3-cell">
      <p>Hello W3.CSS Layout.</p>
    </div>
  

</div>





<div class="w3-row ">
    <div class="w3-col l11 m11 s11">
        <dx-data-grid 
        style="margin-right:3%"
        id="gridDetail"
        [height] = "gridHeight"
        [showColumnHeaders]="true"
        [dataSource]="reportDataDetail"
        [showBorders]="true"
        [focusedRowEnabled]="false"
        [focusedRowIndex]="0"
        [columnHidingEnabled]="false"
        [columnAutoWidth]="false"
        [showColumnLines]="true"
        [showRowLines]="true"
        (onRowPrepared)="onRowPrepared($event)"
        [repaintChangesOnly]="true"
        (onCellPrepared)="onCellPrepared($event)"
        [rowAlternationEnabled]="false"
        >

        
 
        <dxo-paging [enabled]="false"></dxo-paging>
        <dxo-scrolling
        mode="standard"> <!-- or "virtual" | "infinite" -->
        </dxo-scrolling>

        <dxo-sorting
        mode="none"> <!-- or "multiple" | "none" -->
        </dxo-sorting>


        <dxo-column-fixing [enabled]="true"></dxo-column-fixing>

        <dxo-sorting mode="none"> <!-- or "multiple" | "none" --></dxo-sorting>
        
        
        <dxi-column dataField="ColTen" [width] = "100"   caption= "Mục" [fixed]="true"> </dxi-column>
        <dxi-column dataField="Ma_Mau" [width] = "70"   caption= "Mầu" [fixed]="true"> </dxi-column>

        <dxi-column dataField="Tong"  [minWidth] = "rongMacDinh" format="#,##0" caption= "IDMC"> </dxi-column>
        <dxi-column dataField="Col0"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate0" [(visible)]="arrVisible[0]"> </dxi-column>
        <dxi-column dataField="Col1"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate1" [(visible)]="arrVisible[1]"> </dxi-column>
        <dxi-column dataField="Col2"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate2" [(visible)]="arrVisible[2]"> </dxi-column>
        <dxi-column dataField="Col3"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate3" [(visible)]="arrVisible[3]"> </dxi-column>
        <dxi-column dataField="Col4"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate4" [(visible)]="arrVisible[4]"> </dxi-column>
        <dxi-column dataField="Col5"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate5" [(visible)]="arrVisible[5]"> </dxi-column>
        <dxi-column dataField="Col6"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate6" [(visible)]="arrVisible[6]"> </dxi-column>
        <dxi-column dataField="Col7"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate7" [(visible)]="arrVisible[7]"> </dxi-column>
        <dxi-column dataField="Col8"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate8" [(visible)]="arrVisible[8]"> </dxi-column>
        <dxi-column dataField="Col9"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate9" [(visible)]="arrVisible[9]"> </dxi-column>
        <dxi-column dataField="Col10"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate10" [(visible)]="arrVisible[10]"> </dxi-column>
        <dxi-column dataField="Col11"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate11" [(visible)]="arrVisible[11]"> </dxi-column>
        <dxi-column dataField="Col12"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate12" [(visible)]="arrVisible[12]"> </dxi-column>
        <dxi-column dataField="Col13"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate13" [(visible)]="arrVisible[13]"> </dxi-column>
        <dxi-column dataField="Col14"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate14" [(visible)]="arrVisible[14]"> </dxi-column>
        <dxi-column dataField="Col15"  [minWidth] = "rongMacDinh" format="#,##0" headerCellTemplate="titleHeaderTemplate15" [(visible)]="arrVisible[15]"> </dxi-column>
        
        
        <!--

        <dxi-column dataField="ColTen" [width] = "100"   caption= "Mục" [fixed]="true"> </dxi-column>
        <dxi-column dataField="Tong" [width] = "80" caption= "Total"> </dxi-column>
        <dxi-column dataField="Col0" [width] = "80" [caption] = "arrHeader[0]" [(visible)]="arrVisible[0]"> </dxi-column>
        <dxi-column dataField="Col1" [width] = "80"  [caption] = "arrHeader[1]"> </dxi-column>
        <dxi-column dataField="Col2" [width] = "80"  [caption] = "arrHeader[2]"> </dxi-column>
        <dxi-column dataField="Col3" [width] = "80"  [caption] = "arrHeader[3]"> </dxi-column>
        <dxi-column dataField="Col4" [width] = "80"  [caption] = "arrHeader[4]"> </dxi-column>
        <dxi-column dataField="Col5" [width] = "80"  [caption] = "arrHeader[5]"> </dxi-column>
        <dxi-column dataField="Col6" [width] = "80"  [caption] = "arrHeader[6]"> </dxi-column>
        <dxi-column dataField="Col7" [width] = "80"  [caption] = "arrHeader[7]"> </dxi-column>
        <dxi-column dataField="Col8" [width] = "80"  [caption] = "arrHeader[8]"> </dxi-column>
        <dxi-column dataField="Col9" [width] = "80"  [caption] = "arrHeader[9]"> </dxi-column>
        <dxi-column dataField="Col10" [width] = "80"  [caption] = "arrHeader[10]"> </dxi-column>
        <dxi-column dataField="Col11" [width] = "80"  [caption] = "arrHeader[11]"> </dxi-column>
        <dxi-column dataField="Col12" [width] = "80"  [caption] = "arrHeader[12]"> </dxi-column>
        <dxi-column dataField="Col13" [width] = "80"  [caption] = "arrHeader[13]"> </dxi-column>
        <dxi-column dataField="Col14" [width] = "80"  [caption] = "arrHeader[14]"> </dxi-column>
        <dxi-column dataField="Col15" [width] = "80"  [caption] = "arrHeader[15]"> </dxi-column>
        -->

        <div *dxTemplate="let info of 'titleHeaderTemplate'">
        <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        
        
        <div *dxTemplate="let info of 'titleHeaderTemplate0'">
          {{arrHeader[0]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate1'">
            {{arrHeader[1]}}
        </div>
        
        
        <div *dxTemplate="let info of 'titleHeaderTemplate2'">
            {{arrHeader[2]}}
        </div>
        
        
        
        <div *dxTemplate="let info of 'titleHeaderTemplate3'">
            {{arrHeader[3]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate4'">
            {{arrHeader[4]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate5'">
            {{arrHeader[5]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate6'">
            {{arrHeader[6]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate7'">
            {{arrHeader[7]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate8'">
            {{arrHeader[8]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate9'">
            {{arrHeader[9]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate10'">
            {{arrHeader[10]}}
        </div>
        
        <div *dxTemplate="let info of 'titleHeaderTemplate11'">
            {{arrHeader[11]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate12'">
            {{arrHeader[12]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate13'">
           {{arrHeader[13]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate14'">
            {{arrHeader[14]}}
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate15'">
            {{arrHeader[15]}}
        </div>
        
        </dx-data-grid>
    </div>
    <div class="w3-col l1 m1 s1 ">

        <div class="w3-sidebar w3-bar-block w3-padding-16 w3-sand" style="width:10%;right:0">
                <dx-radio-group
                [items]="LoaiXems"
                [(value)]="loaiTon"
                (onValueChanged)="loaiTonOnChang($event)"
                
                >
            </dx-radio-group>
            <br>
            
        
            <dx-check-box [(value)]="chonCKD"
            (onValueChanged)="chonXuatXuOnchange($event)"
            text="CKD"
        
            ></dx-check-box> 
            
            <br>
            <dx-check-box [(value)]="chonCBU"
            (onValueChanged)="chonXuatXuOnchange($event)"
            text="CBU"
            ></dx-check-box>
            <br>
            <br>
            <dx-select-box 
            [dataSource]="donViCoSos"
            displayExpr="ten_nh"
            valueExpr="ma_nh"
            [(value)] = "khoiVal"
              >

            </dx-select-box>
<!--
            <dx-date-box
            [(value)]="ngayVal"
            type="date">
            </dx-date-box>
    -->    
        </div>
    </div>
  </div>


  <div class="w3-cell-row">


    <div class="w3-container w3-red w3-cell">
      <p>Hello W3.CSS Layout.</p>
    </div>
  
    <div class="w3-container w3-green w3-cell">
      <p>Hello W3.CSS Layout.</p>
    </div>
  

</div>


  <dx-popup
    maxWidth = "600"
    [showTitle]="true"
    title="Filter"
    [dragEnabled]="false"
    [closeOnOutsideClick]="false"
    [(visible)]="popupVisible">


    <div class="dx-fieldset">
      <div class="dx-field">
          <div class="dx-field-label">Date</div>
          <div class="dx-field-value">
              <dx-date-box
                  [(value)]="ngayVal"
                  type="date">
              </dx-date-box>
          </div>
      </div>

      <div class="dx-field">
          <div class="dx-field-label">Khối</div>
          <div class="dx-field-value">
              <dx-select-box 
              [dataSource]="donViCoSos"
              displayExpr="ten_nh"
              valueExpr="ma_nh"
              [(value)] = "khoiVal"
                >

              </dx-select-box>
          </div>
      </div>

      <div class="dx-field">
        <div class="dx-field-label">Cấp</div>
        <div class="dx-field-value">
            <dx-select-box 
            [dataSource]="capCbxd"
            displayExpr="Ten"
            valueExpr="Ma"
            [(value)] = "capVal"
            >
            </dx-select-box>
        </div>
    </div>

    </div>
    <div style="position: absolute;right: 50px;bottom: 10px; ">
      <dx-button
      class="button-info"
      with = "200"
      text="   Ok  "
      (onClick)="fillData()">
      </dx-button>
    </div>

    <div style="position: absolute;right: 150px;bottom: 10px;  ">
      <dx-button
      class="button-info"
      text="Cancel"
      (onClick)="close()">
      </dx-button>
    </div>
</dx-popup>

<dx-popup
maxWidth = "600"
[showTitle]="false"
[dragEnabled]="false"
[closeOnOutsideClick]="false"
[(visible)]="filterVisible">

    <div class="widget-container">
        <dx-list #list
            [dataSource]="cap2s"
            [height]="400"
            [selectionMode]="selectionModeValue"
            [selectAllMode]="selectAllModeVlaue"
            [showSelectionControls]="true"
            [selectedItemKeys]="keysSelect"></dx-list>
        <div class="selected-data">
            <span class="caption">Selected IDs:</span>
            <span>{{list.selectedItemKeys.join(", ")}}</span>
        </div>
    </div>
</dx-popup>

<!--
    <div style="position: absolute;bottom: 2px;" class=" w3-blue">

    
        <dx-tabs [dataSource]="cap2s" 
        [width]="barWidth"
        [scrollByContent]="true"
        [showNavButtons]="true"
        (onItemClick)="selCap2($event)"></dx-tabs>

        
    </div>
-->



<dx-load-indicator 
id="large-indicator" 

[visible]="loadIndicatorVisible"
></dx-load-indicator>

<dx-speed-dial-action
    icon="filter"
    label=""
    [index]="1"
    (onClick)="showFilter()">
</dx-speed-dial-action>