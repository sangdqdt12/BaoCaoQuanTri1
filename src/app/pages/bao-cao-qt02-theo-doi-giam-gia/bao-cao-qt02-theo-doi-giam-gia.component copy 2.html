<div class="long-title">
    <p>BÁO CÁO THEO DÕI GIẢM GIÁ - Từ ngày {{this.tuNgayVal|date: 'dd-MM-yyyy'}} đến ngày {{this.denNgayVal|date:
        'dd-MM-yyyy'}}</p>
</div>

<dx-popup maxWidth="600" [showTitle]="false" title="Filter" [dragEnabled]="false" [closeOnOutsideClick]="false"
    [(visible)]="popupVisible">

    <div class="dx-fieldset">



        <div class="dx-field">
            <div class="dx-field-label">Từ ngày</div>
            <div class="dx-field-value">
                <dx-date-box [(value)]="tuNgayVal" type="date">
                </dx-date-box>
            </div>
        </div>


        <div class="dx-field">
            <div class="dx-field-label">Đến ngày</div>
            <div class="dx-field-value">
                <dx-date-box [(value)]="denNgayVal" type="date">
                </dx-date-box>
            </div>
        </div>

        <div class="dx-field">
            <div class="dx-field-label">Khối</div>
            <div class="dx-field-value">
                <dx-select-box [dataSource]="donViCoSos" displayExpr="ten_nh" valueExpr="ma_nh" [(value)]="khoiVal">

                </dx-select-box>
            </div>
        </div>

        <div class="dx-field">
            <div class="dx-field-label">Cấp</div>
            <div class="dx-field-value">
                <dx-select-box [dataSource]="capCbxd" displayExpr="Ten" valueExpr="Ma" [(value)]="capVal">
                </dx-select-box>
            </div>
        </div>

        <div class="dx-field">
            <div class="dx-field-label">Loại trừ xe bán đại lý</div>
            <div class="dx-field-value">
                <dx-check-box [(value)]="isDaiLy"></dx-check-box>
            </div>
        </div>

    </div>
    <div style="position: absolute;right: 50px;bottom: 10px; ">
        <dx-button class="button-info" with="200" text="   Ok  " (onClick)="fillData()">
        </dx-button>
    </div>

    <div style="position: absolute;right: 150px;bottom: 10px;  ">
        <dx-button class="button-info" text="Cancel" (onClick)="close()">
        </dx-button>
    </div>
</dx-popup>




<div>

    <dx-data-grid id="gridDetail" [height]="gridHeight" [showColumnHeaders]="true" [dataSource]="reportDataDetail"
        [showBorders]="true" [focusedRowEnabled]="false" [focusedRowIndex]="0" [columnHidingEnabled]="false"
        [columnAutoWidth]="false" [showColumnLines]="true" [showRowLines]="true" (onRowPrepared)="onRowPrepared($event)"
        [repaintChangesOnly]="true" (onCellPrepared)="onCellPrepared($event)" [rowAlternationEnabled]="false">

        <dxo-paging [enabled]="false"></dxo-paging>
        <dxo-scrolling mode="standard">
            <!-- or "virtual" | "infinite" -->
        </dxo-scrolling>

        <dxo-sorting mode="none">
            <!-- or "multiple" | "none" -->
        </dxo-sorting>


        <dxo-column-fixing [enabled]="true"></dxo-column-fixing>

        <dxo-sorting mode="none">
            <!-- or "multiple" | "none" -->
        </dxo-sorting>

        <dxi-column dataField="Ma_so" [width]="200" [fixed]="true" caption="Kiểu xe"
            headerCellTemplate="titleHeaderTemplate"> </dxi-column>


        <dxi-column dataField="TotalG" [(visible)]="viewGG" [minWidth]="rongMacDinh" caption="Total" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="G01" [(visible)]="arrviewGG[0]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate0"> </dxi-column>
        <dxi-column dataField="G02" [(visible)]="arrviewGG[1]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate1"> </dxi-column>
        <dxi-column dataField="G03" [(visible)]="arrviewGG[2]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate2"> </dxi-column>
        <dxi-column dataField="G04" [(visible)]="arrviewGG[3]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate3"> </dxi-column>
        <dxi-column dataField="G05" [(visible)]="arrviewGG[4]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate4"> </dxi-column>
        <dxi-column dataField="G06" [(visible)]="arrviewGG[5]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="G07" [(visible)]="arrviewGG[6]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate6"> </dxi-column>

        <dxi-column dataField="TotalK" [(visible)]="viewK" [minWidth]="rongMacDinh" caption="Total" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="K01" [(visible)]="arrviewK[0]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate0"> </dxi-column>
        <dxi-column dataField="K02" [(visible)]="arrviewK[1]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate1"> </dxi-column>
        <dxi-column dataField="K03" [(visible)]="arrviewK[2]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate2"> </dxi-column>
        <dxi-column dataField="K04" [(visible)]="arrviewK[3]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate3"> </dxi-column>
        <dxi-column dataField="K05" [(visible)]="arrviewK[4]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate4"> </dxi-column>
        <dxi-column dataField="K06" [(visible)]="arrviewK[5]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="K07" [(visible)]="arrviewK[6]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate6"> </dxi-column>

        <dxi-column dataField="TotalT" [(visible)]="viewT" [minWidth]="rongMacDinh" caption="Total" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="T01" [(visible)]="arrviewT[0]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate0"> </dxi-column>
        <dxi-column dataField="T02" [(visible)]="arrviewT[1]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate1"> </dxi-column>
        <dxi-column dataField="T03" [(visible)]="arrviewT[2]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate2"> </dxi-column>
        <dxi-column dataField="T04" [(visible)]="arrviewT[3]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate3"> </dxi-column>
        <dxi-column dataField="T05" [(visible)]="arrviewT[4]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate4"> </dxi-column>
        <dxi-column dataField="T06" [(visible)]="arrviewT[5]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate5"> </dxi-column>
        <dxi-column dataField="T07" [(visible)]="arrviewT[6]" [minWidth]="rongMacDinh" format="#,##0"
            headerCellTemplate="titleHeaderTemplate6"> </dxi-column>



        <div *dxTemplate="let info of 'titleHeaderTemplate'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>


        <div *dxTemplate="let info of 'titleHeaderTemplate0'">
            <p style="font-size:16px">{{arrHeader[0]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate1'">
            <p style="font-size:16px">{{arrHeader[1]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate2'">
            <p style="font-size:16px">{{arrHeader[2]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate3'">
            <p style="font-size:16px">{{arrHeader[3]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate4'">
            <p style="font-size:16px">{{arrHeader[4]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate5'">
            <p style="font-size:16px">{{arrHeader[5]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate6'">
            <p style="font-size:16px">{{arrHeader[6]}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate7'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate8'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate9'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate10'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate11'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate12'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate13'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate14'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>
        <div *dxTemplate="let info of 'titleHeaderTemplate15'">
            <p style="font-size:16px">{{info.column.caption}}</p>
        </div>

    </dx-data-grid>

</div>



















<dx-popup maxWidth="600" [showTitle]="false" [dragEnabled]="false" [closeOnOutsideClick]="false"
    [(visible)]="filterModelVisible">


    <div class="w3-cell-row">

        <div class="w3-container w3-cell w3-cell-top">
            <dx-check-box [(value)]="chonCKD" (onValueChanged)="chonXuatXuOnchange($event)" text="CKD"></dx-check-box>
            <br>

            <dx-check-box [(value)]="chonCBU" (onValueChanged)="chonXuatXuOnchange($event)" text="CBU"></dx-check-box>
        </div>
        <div class="w3-container w3-cell">


            <dx-list #list [dataSource]="cap2s" [height]="gridHeight -40" [selectionMode]="selectionModeValue"
                [selectAllMode]="selectAllModeVlaue" [showSelectionControls]="true" [(selectedItemKeys)]="keysSelect">
            </dx-list>
            <div class="selected-data">
                <span class="caption">Model:</span>
                <span>{{list.selectedItemKeys.join(", ")}}</span>
            </div>

        </div>


    </div>


    <div style="position: absolute;right: 50px;bottom: 10px; ">
        <dx-button class="button-info" with="200" text="   Ok  " (onClick)="fillModeData()">
        </dx-button>
    </div>

    <div style="position: absolute;right: 150px;bottom: 10px;  ">
        <dx-button class="button-info" text="Cancel" (onClick)="closeFillModeData()">
        </dx-button>
    </div>

</dx-popup>

<div class="w3-cell-row">

    <div>
        <dx-radio-group layout="horizontal" [items]="LoaiXems" [(value)]="loaiXem"
            (onValueChanged)="chonViewOnchange($event)">
        </dx-radio-group>



    </div>

    <div class="w3-container w3-cell w3-cell-middle">

        <dx-button icon="search" (onClick)="showFilter()">
        </dx-button>

    </div>


    <div class="w3-container  w3-cell w3-cell-middle">

        <dx-button icon="filter" (onClick)="showFilterModle()">
        </dx-button>


    </div>





</div>